name: compliance-verification
display_name: "Compliance Verification"
category: safety
description: "Ensures code meets regulatory compliance requirements (GDPR, HIPAA, SOC2, etc.)"

coordination_patterns:
  - name: "regulatory_compliance_check"
    trigger: "when handling sensitive data or implementing data processing features"
    action: "verify compliance with applicable regulations (GDPR, HIPAA, SOC2)"
    context_required: ["regulatory_requirements", "data_types", "jurisdiction"]

  - name: "privacy_impact_assessment"
    trigger: "before implementing features that collect or process personal data"
    action: "assess privacy implications and ensure compliance controls"
    context_required: ["data_collection_scope", "processing_purpose", "user_consent"]

implementation: |
  ## Regulatory Compliance Protocol

  **CRITICAL: Verify regulatory compliance before handling sensitive data**

  ### Compliance Framework Assessment
  1. **Regulatory Requirements**:
     - **GDPR**: European data protection regulation
     - **HIPAA**: Healthcare information protection (US)
     - **SOC2**: Security and availability controls
     - **PCI DSS**: Payment card industry standards
     - **CCPA**: California Consumer Privacy Act

  2. **Data Classification**:
     - Identify and classify sensitive data types
     - Determine applicable regulatory frameworks
     - Document data processing purposes and legal basis
     - Implement appropriate protection measures

  3. **Privacy by Design**:
     - Build privacy controls into system architecture
     - Implement data minimization principles
     - Ensure user consent and control mechanisms
     - Design for data portability and deletion rights

  ### Compliance Controls
  - **Data Encryption**: At rest and in transit
  - **Access Controls**: Role-based access with audit trails
  - **Data Retention**: Automated deletion after retention periods
  - **Consent Management**: Clear opt-in/opt-out mechanisms
  - **Breach Response**: Incident response and notification procedures

  ### Documentation Requirements
  - Privacy notices and terms of service
  - Data processing impact assessments
  - Compliance audit trails and evidence
  - Staff training and awareness programs

  ### Coordination Examples
  - "GDPR compliance verified for personal data processing"
  - "HIPAA controls implemented for healthcare data handling"
  - "Privacy impact assessment completed - no high-risk findings"